/*********************************************************************************************************
	JQUERY.ASCENSOR.JS
	VERSION: 1.5.6
	DATE: 07/03/2013
**********************************************************************************************************/
(function(a,g){function q(g,r){this.element=g;this.options=a.extend({},s,r);this._defaults=s;this._name=j;this.init()}var j="ascensor",s={AscensorName:"ascensor",AscensorFloorName:null,ChildType:"div",WindowsOn:1,Direction:"y",Loop:!0,AscensorMap:"",Time:"1000",Easing:"linear",KeyNavigation:!0,Queued:!1,QueuedDirection:"x"};q.prototype.init=function(){function j(c){g.location.hash&&(x=g.location.hash.split("/").pop(),a(w).each(function(h){x===w[h]&&(d=h+1,a("."+b.options.AscensorName+"Link").removeClass(b.options.AscensorName+
"LinkActive").eq(d-1).addClass(b.options.AscensorName+"LinkActive"),c||n(d,b.options.Time,!0))}))}function r(){e=a(g).width();f=a(g).height();a(t).width(e).height(f);a(c).width(e).height(f);"y"===b.options.Direction&&a(c).stop().scrollTop((d-1)*f);"x"===b.options.Direction&&(a(c).stop().scrollLeft((d-1)*e),a(t).each(function(b){a(this).css("left",b*e)}));if("chocolate"===b.options.Direction){var l=p[d-1].split("|");a(t).each(function(b){b=p[b].split("|");a(this).css({left:(b[1]-1)*e,top:(b[0]-1)*
f})});a(c).stop().scrollLeft((l[1]-1)*e).scrollTop((l[0]-1)*f)}}function n(l,h,j){j&&a(c).trigger({type:"ascensorStart",floor:d});"y"===b.options.Direction&&a(c).stop().animate({scrollTop:(l-1)*f},h,b.options.Easing,function(){m()});"x"===b.options.Direction&&a(c).stop().animate({scrollLeft:(l-1)*e},h,b.options.Easing,function(){m()});if("chocolate"===b.options.Direction){var k=p[l-1].split("|");b.options.Queued?"x"===b.options.QueuedDirection?a(c).scrollLeft()===(k[1]-1)*e?a(c).stop().animate({scrollTop:(k[0]-
1)*f},h,b.options.Easing,function(){m()}):a(c).stop().animate({scrollLeft:(k[1]-1)*e},h,b.options.Easing,function(){a(c).stop().animate({scrollTop:(k[0]-1)*f},h,b.options.Easing,function(){m()})}):"y"===b.options.QueuedDirection&&(a(c).scrollTop()===(k[0]-1)*f?a(c).stop().animate({scrollLeft:(k[1]-1)*e},h,b.options.Easing,function(){m()}):a(c).stop().animate({scrollTop:(k[0]-1)*f},h,b.options.Easing,function(){a(c).stop().animate({scrollLeft:(k[1]-1)*e},h,b.options.Easing,function(){m()})})):a(c).stop().animate({scrollLeft:(k[1]-
1)*e,scrollTop:(k[0]-1)*f},h,b.options.Easing,function(){m()})}!j&&null!==b.options.AscensorFloorName&&(g.location.hash="/"+w[l-1]);a("."+b.options.AscensorName+"Link").removeClass(b.options.AscensorName+"LinkActive");a("."+b.options.AscensorName+"Link"+l).addClass(b.options.AscensorName+"LinkActive");d=l}function q(b){switch(b.keyCode){case 40:a(c).trigger({type:"ascensorDown",floor:d});break;case 38:a(c).trigger({type:"ascensorUp",floor:d});break;case 37:a(c).trigger({type:"ascensorLeft",floor:d});
break;case 39:a(c).trigger({type:"ascensorRight",floor:d})}}function m(){a(c).trigger({type:"ascensorEnd",floor:d})}function s(){d-=1;1>d&&(d=b.options.Loop?u:1);n(d,b.options.Time)}function y(){d+=1;d>u&&(d=b.options.Loop?u:1);n(d,b.options.Time)}function v(c,e){var f=p[d-1].split("|");a.each(p,function(a){p[a]===parseInt(f[0],10)+c+"|"+(parseInt(f[1],10)+e)&&n(a+1,b.options.Time)})}var b=this,c=this.element,t=a(c).children(b.options.ChildType),d=b.options.WindowsOn,u=0,e,f,p=b.options.AscensorMap.split(" & "),
x;if(null!==b.options.AscensorFloorName)var w=b.options.AscensorFloorName.split(" | ");a(c).css("position","absolute").width(e).height(f);a(t).width(e).height(f).each(function(){u++;a(this).attr("id",b.options.AscensorName+"Floor"+u).addClass(b.options.AscensorName+"Floor")});("x"===b.options.Direction||"chocolate"===b.options.Direction)&&a(t).css("position","absolute");a(g).resize(function(){r()}).load(function(){r()}).resize();g.DeviceOrientationEvent&&a(g).bind("orientationchange",function(){r()});
b.options.KeyNavigation&&(a.browser.mozilla?a(document).keypress(q):a(document).keydown(q));a(c).on("ascensorLeft",function(){"x"==b.options.Direction?a(c).trigger({type:"ascensorNext",floor:d}):"chocolate"==b.options.Direction&&v(0,-1)});a(c).on("ascensorRight",function(){"x"==b.options.Direction?a(c).trigger({type:"ascensorPrev",floor:d}):"chocolate"==b.options.Direction&&v(0,1)});a(c).on("ascensorUp",function(){"y"==b.options.Direction?a(c).trigger({type:"ascensorPrev",floor:d}):"chocolate"==b.options.Direction&&
v(-1,0)});a(c).on("ascensorDown",function(){"y"==b.options.Direction?a(c).trigger({type:"ascensorNext",floor:d}):"chocolate"==b.options.Direction&&v(1,0)});a(c).on("ascensorNext",function(){y()});a(c).on("ascensorPrev",function(){s()});a("."+b.options.AscensorName+"LinkPrev").on("click",function(){s()});a("."+b.options.AscensorName+"LinkNext").on("click",function(){y()});a("."+b.options.AscensorName+"Link").on("click",function(){var c=parseInt(a(this).attr("class").split(" ")[1].split(b.options.AscensorName+
"Link")[1],10);n(c,b.options.Time)});n(d,1,!0);a(g).on("hashchange",function(){j()});j(!0)};a.fn[j]=function(g){return this.each(function(){a.data(this,"plugin_"+j)||a.data(this,"plugin_"+j,new q(this,g))})}})(jQuery,window);